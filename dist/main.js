(()=>{"use strict";document.addEventListener("input",(e=>{e.target.matches(".calc-item ")&&(e.target.value=e.target.value.replace(/\D/g,""))}));const e=document.querySelector("#command"),t=e=>{const t=e.target;if(t.matches("img")){let e=t.src,o=t.dataset.img;t.dataset.img=e,t.src=o}};e.addEventListener("mouseover",t),e.addEventListener("mouseout",t),function(e){let t=setInterval(l,1e3),o=document.querySelector("#timer-hours"),n=document.querySelector("#timer-minutes"),c=document.querySelector("#timer-seconds");function l(){let l=function(){let t=(new Date(e).getTime()-(new Date).getTime())/1e3,o=Math.floor(t%60),n=Math.floor(t/60%60);return{timeRemaining:t,hours:Math.floor(t/60/60),minutes:n,seconds:o}}();function a(e){return e<10?"0"+e:e}l.timeRemaining>0&&(o.textContent=a(l.hours),n.textContent=a(l.minutes),c.textContent=a(l.seconds)),l.timeRemaining<0&&(clearInterval(t,1e3),o.textContent="00",n.textContent="00",c.textContent="00")}l()}("11 november 2020"),(()=>{document.querySelector(".menu");const e=document.querySelector("menu"),t=(document.querySelector(".close-btn"),document.querySelector("body")),o=e.querySelectorAll("ul>li>a"),n=()=>{e.classList.toggle("active-menu")};t.addEventListener("click",(e=>{let t=e.target,o=e.target;t=t.closest(".menu"),(t||o.classList.contains("close-btn")||o.classList.contains("ul>li>a"))&&n()})),o.forEach((e=>e.addEventListener("click",n)))})(),(()=>{const e=document.querySelector(".popup"),t=document.querySelectorAll(".popup-btn");let o=document.querySelector(".popup-content");t.forEach((t=>{t.addEventListener("click",(()=>{if(window.innerWidth>768){o.style.opacity="0";let t=0;const n=setInterval((()=>{t+=.1,o.style.opacity=`${t}`,"1"===o.style.opacity&&clearInterval(n)}),40);e.style.display="block"}else e.style.display="block",o.style.opacity="1"}))})),e.addEventListener("click",(t=>{let n=t.target;if(n.classList.contains("popup-close"))if(window.innerWidth>768){o.style.opacity="1";let t=1;const n=setInterval((()=>{t-=.1,o.style.opacity=`${t}`,"-0.1"===o.style.opacity&&(e.style.display="none",clearInterval(n))}),40)}else e.style.display="none";else n=n.closest(".popup-content"),n||(e.style.display="none")})),e.addEventListener("click",(t=>{let o=t.target;o.classList.contains("popup-content")?e.style.display="none":(o=o.closest(".popup-content"),o||(e.style.display="none"))}))})(),(()=>{const e=document.querySelector(".service-header"),t=e.querySelectorAll(".service-header-tab"),o=document.querySelectorAll(".service-tab");e.addEventListener("click",(e=>{let n=e.target;n=n.closest(".service-header-tab"),n&&t.forEach(((e,c)=>{e===n&&(e=>{for(let n=0;n<o.length;n++)e===n?(t[n].classList.add("active"),o[n].classList.remove("d-none")):(t[n].classList.remove("active"),o[n].classList.add("d-none"))})(c)}))}))})(),(()=>{const e=document.querySelectorAll(".portfolio-item"),t=document.querySelector(".portfolio-content");let o=document.querySelector(".portfolio-dots");for(let t=0;t<e.length;t++){const e=document.createElement("li");0===t&&e.classList.add("dot-active"),e.classList.add("dot"),o.append(e)}const n=document.querySelectorAll(".dot");let c,l=0;const a=(e,t,o)=>{e[t].classList.remove(o)},s=(e,t,o)=>{e[t].classList.add(o)},r=()=>{a(e,l,"portfolio-item-active"),a(n,l,"dot-active"),l++,l>=e.length&&(l=0),s(e,l,"portfolio-item-active"),s(n,l,"dot-active")},i=(e=3e3)=>{c=setInterval(r,e)};t.addEventListener("click",(t=>{t.preventDefault();let o=t.target;o.matches(".portfolio-btn, .dot")&&(a(e,l,"portfolio-item-active"),a(n,l,"dot-active"),o.matches("#arrow-right")?l++:o.matches("#arrow-left")?l--:o.matches(".dot")&&n.forEach(((e,t)=>{e===o&&(l=t)})),l>=e.length&&(l=0),l<0&&(l=e.length-1),s(e,l,"portfolio-item-active"),s(n,l,"dot-active"))})),t.addEventListener("mouseover",(e=>{(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&clearInterval(c)})),t.addEventListener("mouseleave",(e=>{(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&i()})),i(1500)})(),((e=100)=>{const t=document.querySelector(".calc-block"),o=document.querySelector(".calc-type"),n=document.querySelector(".calc-square"),c=document.querySelector(".calc-day"),l=document.querySelector(".calc-count"),a=document.getElementById("total");t.addEventListener("change",(t=>{const s=t.target;(s.matches("select")||s.matches("input"))&&(()=>{let t=0,s=1,r=1;const i=o.options[o.selectedIndex].value;let d=+n.value;l.value>1&&(s+=(l.value-1)/10),c.value&&c.value<5?r*=2:c.value&&c.value<10&&(r*=1.5),i&&d&&(t=e*i*d*s*r),a.textContent=Math.floor(t)})()}))})(100),(()=>{const e=document.querySelectorAll("form"),t=document.querySelectorAll("input");for(let c=0;c<e.length;c++)e[c].addEventListener("submit",(l=>{l.preventDefault(),e[c].appendChild(o),o.textContent="Загрузка";const a=new FormData(e[c]);let s={};a.forEach(((e,t)=>{s[t]=e})),n(s).then((e=>{if(200!==e.status)throw new Error("status network not 200");o.textContent=" мы скоро с вами свяжемся",setTimeout((()=>{o.textContent=""}),1e3),t.forEach((e=>{e.value=""}))})).catch((e=>{o.textContent="Что-то пошло  не так"}))}));document.addEventListener("input",(e=>{let t=e.target;(t.matches(".form-name")||t.matches(".mess")||t.matches(".top-form-name"))&&(t.value=t.value.replace(/[^А-Яа-яЁе ]/gi,""))})),document.addEventListener("input",(e=>{let t=e.target;t.matches(".form-phone")&&(t.value=t.value.replace(/[^+0-9]/gi,""))}));const o=document.createElement("div");o.style.cssText="color: green";const n=e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})})()})();